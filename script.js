// Full working JS logic with animations will be placed here (due to complexity)